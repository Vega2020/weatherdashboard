<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Weather Dashboard</title>
  
  <!-- bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>

<body>

  <!-- bootstrap nav bar. doesn't need to do anything? -->
  <nav class="navbar navbar-dark bg-dark">
    <span class="navbar-brand mb-0 h1">Weather Dashboard</span>
  </nav>

  <container>
    <div class="row">
      <div class="col-md-3 left-column">left column
        <ul class="list-group" id="recentlySearchedList">
          <li class="list-group-item">
            test item
          </li>
          <li class="list-group-item">
            test item 2
          </li>
        </ul>
      </div>
      <div class="col-md-9 right-column">
        <div class="jumbotron jumbotron-fluid">
          <div class="container">
            <h1 class="display-4">Weather data here. This div will be where the city name goes.</h1>
            <p class="lead">Divs with temperature info and so on will go here</p>
          </div>
        </div>
      </div>
    </div>

  </container>

  <!-- Retrieved data will be dumped here. these are leftover divs from the class example. with these commented out, the ajax function below has nowhere to put its data. -->
  <!-- <div class="city"></div>
  <div class="wind"></div>
  <div class="humidity"></div>
  <div class="temp"></div> -->
  
  <!-- this link is enabling jquery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  
  
  <script type="text/javascript">
    
    // This is my API key for the weather info service.
    var APIKey = "84733b4b40205836872f7d15403843d8";

    // Here we are building the URL we need to query the database. we'll change this (or maybe make additional ones) for current project. We will have to create functions that turn user search parameters into variables and then append those variables to the url. There's code for this in the news article group project.
    var queryURL = "https://api.openweathermap.org/data/2.5/weather?units=imperial&q=Bujumbura,Burundi&appid=" + APIKey;

    // We then create an AJAX call
    $.ajax({
      url: queryURL,
      method: "GET"
    }).then(function(response) {

      // this logs the query url and response object for test purposes
      console.log(queryURL);
      console.log(response);// "response" could as easily be "burrito?" test this out when code works more

      // Create CODE HERE to transfer content to HTML
      // What's going on here is the response is an object, and we're declaring variables that are pulled from keys of that object.
      var city = response.name;
      var windSpeed = response.wind.speed;
      var humidity = response.main.humidity;
      var temp = response.main.temp;

      // Then we have our divs display that as its text.
      $(".city").text(city);
      $(".wind").text(windSpeed);
      $(".humidity").text(humidity);
      $(".temp").text(temp);

      // this function puts out an ajax call to openweather and then returns the data and assigns variables to certain pieces of it. the weather dashboard will use this procedure to get variables. we need to create forms by which the user can tell the page what cities to get information about, and then create functions that will load the information onto the browser window.


    });//this is the closing bracket for the ajax call.
  </script>
   <!--above is the closing tag for the in-document script  -->

<!-- bootstrap js resources -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</body>

</html>